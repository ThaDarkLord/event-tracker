<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Info App</title>
</head>
<body>
    <label for="artist-name">Artist Name:</label>
    <input type="text" id="artist-name" />
    <button id="search-artist">Search</button>

    <h2>Artist Information</h2>
    <p id="the-artist"></p>
    <ul id="artist-results"></ul>

    <script>
        var searchArtist = document.querySelector(`#search-artist`);

        function getMusic(artistName) {
            var musicBrainzURL = 'https://musicbrainz.org/ws/2/release?query=artist:' + artistName + '&fmt=json';

            fetch(musicBrainzURL)
                .then(function (response) {
                    return response.json();
                })
                .then(function (data) {
                    console.log("Music Brainz Data", data);

                    document.querySelector('#the-artist').textContent = artistName;

                    for (var i = 0; i < data.releases.length; i++) {
                        var liEl = document.createElement('li');
                        liEl.textContent = data.releases[i].title;
                        document.querySelector('#artist-results').append(liEl);
                    }

                    // Call Java function to get more information about the artist
                    getMoreArtistInfo(artistName);
                });
        }

        function getMoreArtistInfo(artistName) {
            // Make an additional request to the Java server to get more information
            fetch('/getMoreArtistInfo?artistName=' + artistName)
                .then(function (response) {
                    return response.json();
                })
                .then(function (additionalInfo) {
                    console.log("Additional Artist Information from Java:", additionalInfo);
                    // Process and display additional information on the web page
                });
        }

        searchArtist.addEventListener(`click`, function () {
            var artistInput = document.querySelector('#artist-name');
            var artistName = artistInput.value.trim();
            getMusic(artistName);
        });
    </script>
</body>
</html>

